<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ploinky Chat</title>
  <link rel="stylesheet" href="/assets/webtty.css" />
</head>
<body data-page="chat" data-theme="dark" data-agent="__AGENT_NAME__" data-container="__CONTAINER_NAME__" data-runtime="__RUNTIME__" data-auth="__REQUIRES_AUTH__">
  <div class="wa-header">
    <div class="wa-header-avatar">
      <span>P</span>
    </div>
    <div class="wa-header-info">
      <div class="wa-header-title" id="titleBar"></div>
      <div class="wa-header-status" id="status">
        <span class="wa-status-dot offline"></span>
        <span id="statusText">disconnected</span>
      </div>
    </div>
    <div class="wa-header-actions">
      <button class="wa-icon-btn" id="themeToggle" title="Toggle theme">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4z"/>
          <path d="M13 4h-2v-2h2v2zm0 18h-2v-2h2v2zm9-11h-2v-2h2v2zm-18 0h-2v-2h2v2z"/>
        </svg>
      </button>
      <button class="wa-icon-btn" id="moreBtn" title="More options">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 16a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-6a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-6a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/>
        </svg>
      </button>
    </div>
  </div>

  <div class="wa-connection-banner" id="connBanner">
    <span id="bannerText">Connecting…</span>
  </div>

  <div class="wa-chat-container">
    <div class="wa-chat-bg"></div>
    <div class="wa-messages" id="chatList"></div>
    
    <div class="wa-composer">
      <button class="wa-icon-btn" title="Attach">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
          <path d="M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"/>
        </svg>
      </button>
      
      <div class="wa-composer-input-wrapper">
        <textarea 
          id="cmd" 
          class="wa-composer-input" 
          rows="1" 
          placeholder="Type a message"
          autocomplete="off"
        ></textarea>
      </div>
      
      <button class="wa-send-btn" id="send" title="Send">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
          <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
        </svg>
      </button>
    </div>
  </div>

  <div class="wa-modal-backdrop" id="moreModal">
    <div class="wa-modal">
      <div class="wa-modal-header">
        <h3 class="wa-modal-title">Full message</h3>
        <button class="wa-modal-close" id="moreClose" aria-label="Close">×</button>
      </div>
      <div class="wa-modal-content">
        <pre id="moreContent"></pre>
      </div>
    </div>
  </div>

  <script src="/assets/chat.js"></script>
</body>
</html>